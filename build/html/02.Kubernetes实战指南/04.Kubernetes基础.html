

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Kubernetes基础 &mdash; 运维开发修炼之路</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.0.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="prev" title="Docker基础" href="03.Docker基础.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> 小健_Docker_K8s_Blog
          

          
            
            <img src="../_static/docker-k8s.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01.Docker技术入门与实战-3版/index.html">01.Docker技术入门与实战-第3版</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">02.Kubernetes实战指南</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01.通过Kubeadm部署kubernetes.html">通过Kubeadm部署kubernetes</a></li>
<li class="toctree-l2"><a class="reference internal" href="02.Kubespray部署k8s.html">Kubespray部署k8s</a></li>
<li class="toctree-l2"><a class="reference internal" href="03.Docker基础.html">Docker基础</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Kubernetes基础</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#master">Master节点</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apiserver">APIServer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scheduler">Scheduler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#controller-manager">Controller Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="#etcd">Etcd</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#node">Node节点</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#kubelet">Kubelet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kube-proxy">Kube-Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker-engine">Docker Engine</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id1">查询Kubernetes的健康状态</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">安装Kubernetes的扩展插件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dashboard">部署Dashboard</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cluster-dns">安装Cluster DNS</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#guestbook">示例应用Guestbook</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#redis">运行Redis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#frontend">运行Frontend</a></li>
<li class="toctree-l4"><a class="reference internal" href="#service">查看所有的service信息</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">清理Guestbook</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">小健_Docker_K8s_Blog</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">02.Kubernetes实战指南</a> &raquo;</li>
        
      <li>Kubernetes基础</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/02.Kubernetes实战指南/04.Kubernetes基础.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#kubernetes" id="id4">Kubernetes基础</a><ul>
<li><a class="reference internal" href="#master" id="id5">Master节点</a><ul>
<li><a class="reference internal" href="#apiserver" id="id6">APIServer</a></li>
<li><a class="reference internal" href="#scheduler" id="id7">Scheduler</a></li>
<li><a class="reference internal" href="#controller-manager" id="id8">Controller Manager</a></li>
<li><a class="reference internal" href="#etcd" id="id9">Etcd</a></li>
</ul>
</li>
<li><a class="reference internal" href="#node" id="id10">Node节点</a><ul>
<li><a class="reference internal" href="#kubelet" id="id11">Kubelet</a></li>
<li><a class="reference internal" href="#kube-proxy" id="id12">Kube-Proxy</a></li>
<li><a class="reference internal" href="#docker-engine" id="id13">Docker Engine</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1" id="id14">查询Kubernetes的健康状态</a></li>
<li><a class="reference internal" href="#id2" id="id15">安装Kubernetes的扩展插件</a><ul>
<li><a class="reference internal" href="#dashboard" id="id16">部署Dashboard</a></li>
<li><a class="reference internal" href="#cluster-dns" id="id17">安装Cluster DNS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#guestbook" id="id18">示例应用Guestbook</a><ul>
<li><a class="reference internal" href="#redis" id="id19">运行Redis</a></li>
<li><a class="reference internal" href="#frontend" id="id20">运行Frontend</a></li>
<li><a class="reference internal" href="#service" id="id21">查看所有的service信息</a></li>
<li><a class="reference internal" href="#id3" id="id22">清理Guestbook</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="kubernetes">
<h1><a class="toc-backref" href="#id4">Kubernetes基础</a><a class="headerlink" href="#kubernetes" title="Permalink to this headline">¶</a></h1>
<p>Kubernetes致力于提供跨主机集群的自动部署、扩展、高可用以及运行应用程序容器的平台，其遵循主从式架构设计，其组件可以分为管理单个节点（Node）组件和控制平面组件。Kubernetes
Master是集群的主要控制单元，用于管理其工作负载并指导整个系统的通信。Kubernetes控制平面由各自的进程组成，每个组件都可以在单个主节点上运行，也可以在支持高可用集群的多个节点上运行。</p>
<div class="section" id="master">
<h2><a class="toc-backref" href="#id5">Master节点</a><a class="headerlink" href="#master" title="Permalink to this headline">¶</a></h2>
<p>Master节点是Kubernetes集群的控制节点，在生产环境中不建议部署集群核心组件外的任何Pod，<strong>公司业务的Pod更是不建议部署到Master节点上，以免升级或者维护时对业务造成影响</strong>。Master节点的组件包括：</p>
<div class="section" id="apiserver">
<h3><a class="toc-backref" href="#id6">APIServer</a><a class="headerlink" href="#apiserver" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>APIServer是整个集群的控制中枢，提供集群中各个模块之间的数据交换，并将集群状态和信息存储到分布式键－值（key-value）存储系统Etcd集群中。同时它也是集群管理、资源配额、提供完备的集群安全机制的入口，为集群各类资源对象提供增删改查以及watch的REST API接口。

APIServer作为Kubernetes的关键组件，使用Kubernetes API和JSON overHTTP提供Kubernetes的内部和外部接口。
</pre></div>
</div>
</div>
<div class="section" id="scheduler">
<h3><a class="toc-backref" href="#id7">Scheduler</a><a class="headerlink" href="#scheduler" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>Scheduler是集群Pod的调度中心，主要是通过调度算法将Pod分配到最佳的节点（Node），它通过APIServer监听所有Pod的状态，一旦发现新的未被调度到任何Node节点的Pod（PodSpec.NodeName为空），就会根据一系列策略选择最佳节点进行调度，对每一个Pod创建一个绑定（binding），然后被调度的节点上的Kubelet负责启动该Pod。Scheduler是集群可插拔式组件，它跟踪每个节点上的资源利用率以确保工作负载不会超过可用资源。因此Scheduler必须知道资源需求、资源可用性以及其他约束和策略，例如服务质量、亲和力／反关联性要求、数据位置等。Scheduler将资源供应与工作负载需求相匹配以维持系统的稳定和可靠，因此Scheduler在调度的过程中需要考虑公平、资源高效利用、效率等方面的问题。
</pre></div>
</div>
</div>
<div class="section" id="controller-manager">
<h3><a class="toc-backref" href="#id8">Controller Manager</a><a class="headerlink" href="#controller-manager" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>Controller Manager是集群状态管理器（它的英文直译名为控制器管理器），以保证Pod或其他资源达到期望值。

当集群中某个Pod的副本数或其他资源因故障和错误导致无法正常运行，没有达到设定的值时，Controller Manager会尝试自动修复并使其达到期望状态。

Controller Manager包含NodeController、ReplicationController、EndpointController、NamespaceController、ServiceAccountController、ResourceQuotaController、ServiceController和TokenController，该控制器管理器可与API服务器进行通信以在需要时创建、更新或删除它所管理的资源，如Pod、服务断点等。
</pre></div>
</div>
</div>
<div class="section" id="etcd">
<h3><a class="toc-backref" href="#id9">Etcd</a><a class="headerlink" href="#etcd" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>Etcd由CoreOS开发，用于可靠地存储集群的配置数据，是一种持久性、轻量型、分布式的键－值（key-value）数据存储组件。

Etcd作为Kubernetes集群的持久化存储系统，集群的灾难恢复和状态信息存储都与其密不可分，所以在Kubernetes高可用集群中，Etcd的高可用是至关重要的一部分，在生产环境中建议部署为大于3的奇数个数的Etcd，以保证数据的安全性和可恢复性。Etcd可与Master组件部署在同一个节点上，大规模集群环境下建议部署在集群外，并且使用高性能服务器来提高Etcd的性能和降低Etcd同步数据的延迟。
</pre></div>
</div>
</div>
</div>
<div class="section" id="node">
<h2><a class="toc-backref" href="#id10">Node节点</a><a class="headerlink" href="#node" title="Permalink to this headline">¶</a></h2>
<p>Node节点也被称为Worker或Minion，是主要负责部署容器（工作负载）的单机（或虚拟机），集群中的每个节点都必须具备容器的运行环境（runtime），比如Docker及其他组件等。Kubelet作为守护进程运行在Node节点上，负责监听该节点上所有的Pod，同时负责上报该节点上所有Pod的运行状态，确保节点上的所有容器都能正常运行。当Node节点宕机（NotReady状态）时，该节点上运行的Pod会被自动地转移到其他节点上。</p>
<p>Node节点包括：</p>
<div class="section" id="kubelet">
<h3><a class="toc-backref" href="#id11">Kubelet</a><a class="headerlink" href="#kubelet" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>负责与Master通信协作，管理该节点上的Pod。
</pre></div>
</div>
</div>
<div class="section" id="kube-proxy">
<h3><a class="toc-backref" href="#id12">Kube-Proxy</a><a class="headerlink" href="#kube-proxy" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>负责各Pod之间的通信和负载均衡。
</pre></div>
</div>
</div>
<div class="section" id="docker-engine">
<h3><a class="toc-backref" href="#id13">Docker Engine</a><a class="headerlink" href="#docker-engine" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>Docker引擎，负载对容器的管理。
</pre></div>
</div>
</div>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id14">查询Kubernetes的健康状态</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="c1"># kubectl cluster-info</span>
<span class="n">Kubernetes</span> <span class="n">master</span> <span class="ow">is</span> <span class="n">running</span> <span class="n">at</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="mf">172.16</span><span class="o">.</span><span class="mf">60.236</span><span class="p">:</span><span class="mi">6443</span>
<span class="n">KubeDNS</span> <span class="ow">is</span> <span class="n">running</span> <span class="n">at</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="mf">172.16</span><span class="o">.</span><span class="mf">60.236</span><span class="p">:</span><span class="mi">6443</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">namespaces</span><span class="o">/</span><span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="o">/</span><span class="n">services</span><span class="o">/</span><span class="n">kube</span><span class="o">-</span><span class="n">dns</span><span class="p">:</span><span class="n">dns</span><span class="o">/</span><span class="n">proxy</span>

<span class="n">To</span> <span class="n">further</span> <span class="n">debug</span> <span class="ow">and</span> <span class="n">diagnose</span> <span class="n">cluster</span> <span class="n">problems</span><span class="p">,</span> <span class="n">use</span> <span class="s1">&#39;kubectl cluster-info dump&#39;</span><span class="o">.</span>

<span class="c1"># kubectl -s https://172.16.60.236:6443 get componentstatuses</span>
<span class="n">NAME</span>                 <span class="n">STATUS</span>    <span class="n">MESSAGE</span>             <span class="n">ERROR</span>
<span class="n">controller</span><span class="o">-</span><span class="n">manager</span>   <span class="n">Healthy</span>   <span class="n">ok</span>
<span class="n">scheduler</span>            <span class="n">Healthy</span>   <span class="n">ok</span>
<span class="n">etcd</span><span class="o">-</span><span class="mi">0</span>               <span class="n">Healthy</span>   <span class="p">{</span><span class="s2">&quot;health&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">}</span>


<span class="c1"># kubectl -s https://172.16.60.236:6443 get node</span>
<span class="n">NAME</span>         <span class="n">STATUS</span>   <span class="n">ROLES</span>    <span class="n">AGE</span>   <span class="n">VERSION</span>
<span class="n">k8s</span><span class="o">-</span><span class="n">master</span>   <span class="n">Ready</span>    <span class="n">master</span>   <span class="mi">46</span><span class="n">h</span>   <span class="n">v1</span><span class="o">.</span><span class="mf">18.3</span>
<span class="n">k8s</span><span class="o">-</span><span class="n">node1</span>    <span class="n">Ready</span>    <span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>   <span class="mi">45</span><span class="n">h</span>   <span class="n">v1</span><span class="o">.</span><span class="mf">18.3</span>
<span class="n">k8s</span><span class="o">-</span><span class="n">node2</span>    <span class="n">Ready</span>    <span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>   <span class="mi">45</span><span class="n">h</span>   <span class="n">v1</span><span class="o">.</span><span class="mf">18.3</span>
<span class="n">k8s</span><span class="o">-</span><span class="n">node3</span>    <span class="n">Ready</span>    <span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>   <span class="mi">45</span><span class="n">h</span>   <span class="n">v1</span><span class="o">.</span><span class="mf">18.3</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id15">安装Kubernetes的扩展插件</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dashboard">
<h3><a class="toc-backref" href="#id16">部署Dashboard</a><a class="headerlink" href="#dashboard" title="Permalink to this headline">¶</a></h3>
<div class="section" id="dashboard-2-x">
<h4>部署dashboard 2.x版本<a class="headerlink" href="#dashboard-2-x" title="Permalink to this headline">¶</a></h4>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>$ wget https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0-beta8/aio/deploy/recommended.yaml
</pre></div>
</div>
<p>默认Dashboard只能集群内部访问，修改Service为NodePort类型，暴露到外部：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">vi</span> <span class="n">recommended</span><span class="o">.</span><span class="n">yaml</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Service</span>
<span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">labels</span><span class="p">:</span>
    <span class="n">k8s</span><span class="o">-</span><span class="n">app</span><span class="p">:</span> <span class="n">kubernetes</span><span class="o">-</span><span class="n">dashboard</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">kubernetes</span><span class="o">-</span><span class="n">dashboard</span>
  <span class="n">namespace</span><span class="p">:</span> <span class="n">kubernetes</span><span class="o">-</span><span class="n">dashboard</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">ports</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">port</span><span class="p">:</span> <span class="mi">443</span>
      <span class="n">targetPort</span><span class="p">:</span> <span class="mi">8443</span>
      <span class="n">nodePort</span><span class="p">:</span> <span class="mi">30001</span>
  <span class="nb">type</span><span class="p">:</span> <span class="n">NodePort</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">k8s</span><span class="o">-</span><span class="n">app</span><span class="p">:</span> <span class="n">kubernetes</span><span class="o">-</span><span class="n">dashboard</span>
</pre></div>
</div>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>$ kubectl apply -f recommended.yaml

$ kubectl get pods,svc -n kubernetes-dashboard
NAME                                             READY   STATUS    RESTARTS   AGE
pod/dashboard-metrics-scraper-6b4884c9d5-kqq5b   1/1     Running   0          9m39s
pod/kubernetes-dashboard-7bfbb48676-zgfbm        1/1     Running   0          9m40s

NAME                                TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)         AGE
service/dashboard-metrics-scraper   ClusterIP   10.108.188.118   &lt;none&gt;        8000/TCP        9m40s
service/kubernetes-dashboard        NodePort    10.103.134.98    &lt;none&gt;        443:30005/TCP   9m40s
</pre></div>
</div>
<p>访问地址：<a class="reference external" href="https://NodeIP:30001">https://NodeIP:30001</a></p>
<p>创建service account并绑定默认cluster-admin管理员集群角色：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>$ kubectl create serviceaccount dashboard-admin -n kube-system
$ kubectl create clusterrolebinding dashboard-admin --clusterrole=cluster-admin --serviceaccount=kube-system:dashboard-admin
$ kubectl describe secrets -n kube-system $(kubectl -n kube-system get secret | awk &#39;/dashboard-admin/{print $1}&#39;)


# 给匿名用户授权
$ kubectl create clusterrolebinding test:anonymous --clusterrole=cluster-admin --user=system:anonymous
</pre></div>
</div>
<p><img alt="image0" src="../_images/k8s_dash0001.png" /></p>
</div>
</div>
<div class="section" id="cluster-dns">
<h3><a class="toc-backref" href="#id17">安装Cluster DNS</a><a class="headerlink" href="#cluster-dns" title="Permalink to this headline">¶</a></h3>
<p>参考文献：</p>
<p><a class="reference external" href="https://www.cnblogs.com/xiangsikai/p/11413970.html">https://www.cnblogs.com/xiangsikai/p/11413970.html</a></p>
</div>
</div>
<div class="section" id="guestbook">
<h2><a class="toc-backref" href="#id18">示例应用Guestbook</a><a class="headerlink" href="#guestbook" title="Permalink to this headline">¶</a></h2>
<p>本章要演示的示例应用是一个名叫Guestbook的应用，Guestbook是一个典型的Web应用。Guestbook的部署运行结构如图所示。</p>
<p>Guestbook结构</p>
<p><img alt="image1" src="../_images/guestbook00001.png" /></p>
<p>Guestbook包含两部分。</p>
<ul class="simple">
<li>Frontend</li>
</ul>
<p>Guestbook的Web前端部分，无状态节点，可以方便伸缩，本例中将运行3个实例。</p>
<ul class="simple">
<li>Redis</li>
</ul>
<p>Guestbook的存储部分，Redis采用主备模式，即运行1个Redis Master和2个Redis
Slave，Redis Slave会从Redis Master同步数据。</p>
<p>Guestbook提供一个非常简单的功能：在Frontend页面提交数据，Frontend则将数据保存到Redis
Master，然后从Redis Slave读取数据显示到页面上。</p>
<p>Guestbook定义文件在Kubernetes发布包的examples/guestbook目录下：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>$ wget https://github.com/kubernetes/kubernetes/releases/download/v1.1.1/kubernetes.tar.gz
$ tar zxvf kubernetes.tar.gz
$ cd kubernetes/examples/guestbook
</pre></div>
</div>
<div class="section" id="redis">
<h3><a class="toc-backref" href="#id19">运行Redis</a><a class="headerlink" href="#redis" title="Permalink to this headline">¶</a></h3>
<p>首先在Kubernetes上部署运行Redis，包括Redis Master和Redis Slave。</p>
<div class="section" id="redis-master-pod">
<h4>创建Redis Master Pod<a class="headerlink" href="#redis-master-pod" title="Permalink to this headline">¶</a></h4>
<p>Redis Master Replication
Controller的定义文件redis-master-controller.yaml：</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">ReplicationController</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">master</span>
  <span class="n">labels</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">master</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">replicas</span><span class="p">:</span> <span class="mi">1</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">master</span>
  <span class="n">template</span><span class="p">:</span>
    <span class="n">metadata</span><span class="p">:</span>
      <span class="n">labels</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">master</span>
    <span class="n">spec</span><span class="p">:</span>
      <span class="n">containers</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">master</span>
          <span class="n">image</span><span class="p">:</span> <span class="n">redis</span>
          <span class="n">ports</span><span class="p">:</span>
            <span class="o">-</span> <span class="n">containerPort</span><span class="p">:</span> <span class="mi">6379</span>
</pre></div>
</div>
<p>通过定义文件创建Redis Master Replication Controller：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>$ kubectl create -f redis-master-controller.yaml
replicationcontroller &quot;redis-master&quot; created
</pre></div>
</div>
<p>创建成功后，可查询Redis Master Replication Controller：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>$ kubectl get replicationcontroller redis-master
CONTROLLER     CONTAINER(S)  IMAGE(S)  SELECTOR              REPLICAS AGE
redis-master   master         redis      name=redis-master   1            15s
</pre></div>
</div>
<p>Redis Master Replication Controller将会创建1个Redis Master
Pod，创建出来的Pod就会带上Label name=redis-master：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>$ kubectl get pod --selector name=redis-master
NAME                     READY     STATUS    RESTARTS   AGE
redis-master-vdkfp   1/1        Running   0           31s
</pre></div>
</div>
<p>Replication
Controller在创建出Pod以后，将会保证Pod按照指定副本数目持续运行，而通过Replication
Controller也可以对Pod进行一系列操作，包括滚动升级和弹性伸缩等。</p>
</div>
<div class="section" id="redis-master-service">
<h4>创建Redis Master Service<a class="headerlink" href="#redis-master-service" title="Permalink to this headline">¶</a></h4>
<p>Kubernetes中Pod是变化的，特别是当受到Replication
Controller控制的时候，而当Pod发生变化的时候，Pod的IP也是变化的。</p>
<p>这就导致了一个问题：在Kubernetes集群中，Pod之间如何互相发现并访问呢?比如我们已经运行了Redis
Master Pod，那么Redis Slave Pod如何获取Redis Master
Pod的访问地址呢？为此Kubernetes提供了Service来实现服务发现。</p>
<p>Kubernetes中Service是真实应用的抽象，将用来代理Pod，对外提供固定IP作为访问入口，这样通过访问Service便能访问到相应的Pod，而对访问者来说只需知道Service的访问地址，而不需要感知Pod的变化。</p>
<p>上一步中已经运行起Redis Master Pod，现在创建Redis Master
Service来代理Redis Master Pod，Redis Master
Service的定义文件redis-master-service.yaml：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Service</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">master</span>
  <span class="n">labels</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">master</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">ports</span><span class="p">:</span>
  <span class="c1"># the port that this service should serve on</span>
  <span class="o">-</span> <span class="n">port</span><span class="p">:</span> <span class="mi">6379</span>
    <span class="n">targetPort</span><span class="p">:</span> <span class="mi">6379</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">master</span>
</pre></div>
</div>
<p>Service是通过Label来关联Pod的，在Service的定义中，设置.spec.selector为name=
redis-master，将关联上Redis Master Pod。</p>
<p>通过定义文件创建Redis Master Service：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>$ kubectl create -f redis-master-service.yaml
service &quot;redis-master&quot; created
</pre></div>
</div>
<p>创建成功后查看Redis Master Service：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>$ kubectl get service redis-master
NAME           TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)    AGE
redis-master   ClusterIP   10.99.22.49   &lt;none&gt;        6379/TCP   11m
</pre></div>
</div>
<p>Redis Master Service的查询信息中显示属性CLUSTER_IP为
10.99.22.49，属性PORT(S)为6379/TCP，其中
10.99.22.49是Kubernetes分配给Redis Master
Service的虚拟IP，6379/TCP则是Service会转发的端口（通过Service定义文件中的.spec.ports[0].port指定），Kubernetes会将所有访问
10.99.22.49:6379的TCP请求转发到Redis Master
Pod中，目标端口是6379/TCP（通过Service定义文件中的spec.ports[0].targetPort指定）。</p>
<p>因为创建了Redis Master Service来代理Redis Master Pod，所以Redis Slave
Pod通过Redis Master Service的虚拟IP 10.99.22.49就可以访问到Redis Master
Pod，但是如果只是硬配置Service的虚拟IP到Redis Slave
Pod中，这样还不是真正的服务发现，Kubernetes提供了两种发现Service的方法。</p>
<ul class="simple">
<li>环境变量</li>
</ul>
<p>当Pod运行的时候，Kubernetes会将之前存在的Service的信息通过环境变量写到Pod中，以Redis
Master Service为例，它的信息会被写到Pod中：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span><span class="n">REDIS_MASTER_SERVICE_HOST</span><span class="o">=</span><span class="mf">10.99</span><span class="o">.</span><span class="mf">22.49</span>
<span class="n">REDIS_MASTER_PORT_6379_TCP_PROTO</span><span class="o">=</span><span class="n">tcp</span>
<span class="n">REDIS_MASTER_SERVICE_PORT</span><span class="o">=</span><span class="mi">6379</span>
<span class="n">REDIS_MASTER_PORT</span><span class="o">=</span><span class="n">tcp</span><span class="p">:</span><span class="o">//</span><span class="mf">10.99</span><span class="o">.</span><span class="mf">22.49</span>
<span class="n">REDIS_MASTER_PORT_6379_TCP</span><span class="o">=</span><span class="n">tcp</span><span class="p">:</span><span class="o">//</span><span class="mf">10.99</span><span class="o">.</span><span class="mf">22.49</span>
<span class="n">REDIS_MASTER_PORT_6379_TCP_PORT</span><span class="o">=</span><span class="mi">6379</span>
<span class="n">REDIS_MASTER_PORT_6379_TCP_ADDR</span><span class="o">=</span><span class="mf">10.99</span><span class="o">.</span><span class="mf">22.49</span>
</pre></div>
</div>
<p>这种方法要求Pod必须在Service之后启动，之前启动的Pod没有这些环境变量。采用DNS方式就没有这个限制。</p>
<ul class="simple">
<li>DNS 当有新的Service创建时，就会自动生成一条DNS记录，以Redis Master</li>
</ul>
<p>Service为例，有一条DNS记录：</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">redis</span><span class="o">-</span><span class="n">master</span> <span class="o">=&gt;</span> <span class="mf">10.99</span><span class="o">.</span><span class="mf">22.49</span>
</pre></div>
</div>
</div>
<div class="section" id="redis-slave-pod">
<h4>创建Redis Slave Pod<a class="headerlink" href="#redis-slave-pod" title="Permalink to this headline">¶</a></h4>
<p>redisslave镜像Dockerfile下载链接地址</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kubernetes</span><span class="o">/</span><span class="n">kubernetes</span><span class="o">/</span><span class="n">tree</span><span class="o">/</span><span class="n">v1</span><span class="o">.</span><span class="mf">1.1</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">guestbook</span><span class="o">/</span><span class="n">redis</span><span class="o">-</span><span class="n">slave</span>
</pre></div>
</div>
<p>通过Replication Controller可创建Redis Slave Pod，将创建两个Redis Slave
Pod。Redis Slave Replication
Controller的定义文件redis-slave-controller.yaml：</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">ReplicationController</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">slave</span>
  <span class="n">labels</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">slave</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">replicas</span><span class="p">:</span> <span class="mi">2</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">slave</span>
  <span class="n">template</span><span class="p">:</span>
    <span class="n">metadata</span><span class="p">:</span>
      <span class="n">labels</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">slave</span>
    <span class="n">spec</span><span class="p">:</span>
      <span class="n">containers</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">worker</span>
        <span class="n">image</span><span class="p">:</span> <span class="mi">1879324764</span><span class="o">/</span><span class="n">hjl</span><span class="o">-</span><span class="n">redisslave</span><span class="p">:</span><span class="n">v1</span>
        <span class="n">env</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">GET_HOSTS_FROM</span>
          <span class="n">value</span><span class="p">:</span> <span class="n">dns</span>

        <span class="n">ports</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">containerPort</span><span class="p">:</span> <span class="mi">6379</span>
</pre></div>
</div>
<p>查看Pod信息</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>#通过自定义文件创建  Redis Slave Replication Controller
$ kubectl create -f redis-slave-controller.yaml
replicationcontroller/redis-slave created

#创建成功后，查询Redis Slave Replication Controller
$ kubectl get replicationcontroller redis-slave
NAME          DESIRED   CURRENT   READY   AGE
redis-slave   2         2         0       6s

#Redis Slave Replication Controller创建运行两个Redis Slave Pod
$ kubectl get pod --selector name=redis-slave
NAME                READY   STATUS    RESTARTS   AGE
redis-slave-dzdjc   1/1     Running   0          100s
redis-slave-qpzn4   1/1     Running   0          100s
</pre></div>
</div>
</div>
<div class="section" id="redis-slave-service">
<h4>创建Redis Slave Service<a class="headerlink" href="#redis-slave-service" title="Permalink to this headline">¶</a></h4>
<p>创建Redis Salve Service来代理Redis Salve Pod，Redis Salve
Service的定义文件redis-slave-service.yaml：</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Service</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">slave</span>
  <span class="n">labels</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">slave</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">ports</span><span class="p">:</span>
    <span class="c1"># the port that this service should serve on</span>
  <span class="o">-</span> <span class="n">port</span><span class="p">:</span> <span class="mi">6379</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">slave</span>
</pre></div>
</div>
<p>查看service信息</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span># 通过定义文件创建Redis Salve Service
$ kubectl create -f redis-slave-service.yaml
service/redis-slave created

# 查询Redis Salve Service
$ kubectl get service redis-slave
NAME          TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE
redis-slave   ClusterIP   10.109.114.132   &lt;none&gt;        6379/TCP   16s
</pre></div>
</div>
</div>
</div>
<div class="section" id="frontend">
<h3><a class="toc-backref" href="#id20">运行Frontend</a><a class="headerlink" href="#frontend" title="Permalink to this headline">¶</a></h3>
<div class="section" id="frontend-pod">
<h4>创建Frontend Pod<a class="headerlink" href="#frontend-pod" title="Permalink to this headline">¶</a></h4>
<p>通过Frontend Replication Controller来创建Frontend Pod，将创建3个Frontend
Pod。</p>
<p>gb-frontend:v3的Dockerfile下载链接</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kubernetes</span><span class="o">/</span><span class="n">kubernetes</span><span class="o">/</span><span class="n">blob</span><span class="o">/</span><span class="n">v1</span><span class="o">.</span><span class="mf">1.1</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">guestbook</span><span class="o">/</span><span class="n">php</span><span class="o">-</span><span class="n">redis</span><span class="o">/</span><span class="n">Dockerfile</span>
</pre></div>
</div>
<p>Frontend Replication Controller的定义文件frontend-controller.yaml：</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">ReplicationController</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">frontend</span>
  <span class="n">labels</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">frontend</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">replicas</span><span class="p">:</span> <span class="mi">3</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">frontend</span>
  <span class="n">template</span><span class="p">:</span>
    <span class="n">metadata</span><span class="p">:</span>
      <span class="n">labels</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">frontend</span>
    <span class="n">spec</span><span class="p">:</span>
      <span class="n">containers</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">php</span><span class="o">-</span><span class="n">redis</span>
        <span class="n">image</span><span class="p">:</span> <span class="mi">1879324764</span><span class="o">/</span><span class="n">hjl</span><span class="o">-</span><span class="n">frontend</span><span class="p">:</span><span class="n">v3</span>
        <span class="n">env</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">GET_HOSTS_FROM</span>
          <span class="n">value</span><span class="p">:</span> <span class="n">dns</span>

        <span class="n">ports</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">containerPort</span><span class="p">:</span> <span class="mi">80</span>
</pre></div>
</div>
<p>查看Pod信息</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>#通过自定义文件创建Frontend Replication Controller
$ kubectl create -f frontend-controller.yaml
replicationcontroller/frontend created

#创建成功后，查询Frontend Replication Controller
$ kubectl get replicationcontroller frontend
NAME       DESIRED   CURRENT   READY   AGE
frontend   3         3         0       18s

#Frontend Replication Controller创建运行3个Frontend Pod
$ kubectl get pod --selector name=frontend
NAME             READY   STATUS    RESTARTS   AGE
frontend-8bfcq   1/1     Running   0          2m51s
frontend-8c2cp   1/1     Running   0          2m51s
frontend-mflxl   1/1     Running   0          2m51s
</pre></div>
</div>
</div>
<div class="section" id="frontend-service">
<h4>创建Frontend Service<a class="headerlink" href="#frontend-service" title="Permalink to this headline">¶</a></h4>
<p>创建Frontend Service代理Frontend Pod，Frontend
Service的定义文件frontend-service.yaml：</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Service</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">frontend</span>
  <span class="n">labels</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">frontend</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">ports</span><span class="p">:</span>
  <span class="c1"># the port that this service should serve on</span>
  <span class="o">-</span> <span class="n">port</span><span class="p">:</span> <span class="mi">80</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">frontend</span>
</pre></div>
</div>
<p>查看service信息</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span># 通过定义文件创建Frontend Service
$ kubectl create -f frontend-service.yaml
service/frontend created

# 查询Frontend Service
$ kubectl get service frontend
NAME       TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)   AGE
frontend   ClusterIP   10.98.214.195   &lt;none&gt;        80/TCP    10s
</pre></div>
</div>
</div>
<div class="section" id="guesbook">
<h4>设置Guesbook外网访问<a class="headerlink" href="#guesbook" title="Permalink to this headline">¶</a></h4>
<p>Service的虚拟IP是由Kubernetes虚拟出来的内部网络，而外部网络是无法寻址到的，这时候就需要增加一层网络转发，即外网到内网的转发。实现方式有很多种，我们这里采用一种叫作NodePort的方式来实现。即Kubernetes将会在每个Node上设置端口，称为NodePort，通过NodePort端口可以访问到Pod。</p>
<p>修改Frontend
Service的定义文件frontend-service.yaml，设置spec.type为NodePort：</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Service</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">frontend</span>
  <span class="n">labels</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">frontend</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="nb">type</span><span class="p">:</span> <span class="n">NodePort</span>
  <span class="n">ports</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">port</span><span class="p">:</span> <span class="mi">80</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">frontend</span>
</pre></div>
</div>
<p>查看service信息</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span># 重新创建Frontend Service
$ kubectl replace -f frontend-service.yaml --force
service/frontend replaced

# 查看frontend对外映射的端口
$ kubectl get service frontend
NAME       TYPE       CLUSTER-IP   EXTERNAL-IP   PORT(S)        AGE
frontend   NodePort   10.96.36.2   &lt;none&gt;        80:30610/TCP
</pre></div>
</div>
</div>
</div>
<div class="section" id="service">
<h3><a class="toc-backref" href="#id21">查看所有的service信息</a><a class="headerlink" href="#service" title="Permalink to this headline">¶</a></h3>
<p><img alt="image2" src="../_images/k8s_guestbooks00001.png" /></p>
<p><img alt="image3" src="../_images/k8s-guestbooks00002.png" /></p>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id22">清理Guestbook</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>清理Guestbook，只需要分别删除创建出的Replication Controller和Service：</p>
<div class="code shell highlight-default"><div class="highlight"><pre><span></span>$ kubectl delete replicationcontroller redis-master redis-slave frontend
replicationcontroller &quot;redis-master&quot; deleted
replicationcontroller &quot;redis-slave&quot; deleted
replicationcontroller &quot;frontend&quot; deleted

$ kubectl delete service redis-master redis-slave  frontend
service &quot;redis-master&quot; deleted
service &quot;redis-slave&quot; deleted
service &quot;frontend&quot; deleted
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="03.Docker基础.html" class="btn btn-neutral float-left" title="Docker基础" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, huxiaojian

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>